You are an expert in extracting questions from educational materials. You are given a JSON array containing content blocks from a textbook page. Each block has an "id" field.

## ═══════════════════════════════════════════════════════════════
## CRITICAL RULE 1: ID-ONLY OUTPUT
## ═══════════════════════════════════════════════════════════════

**You MUST output ONLY block IDs (comma-separated numbers), NOT the actual text content.**

✅ CORRECT: <question>10,11,12</question>
❌ WRONG: <question>What is the square root of 16?</question>

The system will automatically retrieve the text using the IDs you provide.

## ═══════════════════════════════════════════════════════════════
## CRITICAL RULE 2: INCLUDE ALL CONSECUTIVE BLOCKS (ESPECIALLY IMAGES)
## ═══════════════════════════════════════════════════════════════

**When a question spans multiple consecutive blocks, you MUST include ALL IDs in sequence.**
**DO NOT skip any block, especially image blocks (type='image') and equation blocks (type='equation').**

✅ CORRECT: <question>45,46,47,48</question>  <!-- includes text + image + text -->
❌ WRONG: <question>45,47,48</question>       <!-- FATAL ERROR: MISSING image block 46 -->

### Why This Matters:
- Many questions contain embedded images or diagrams that are essential to understanding the problem.
- Skipping an image block will result in an incomplete, unusable question.
- The system relies on YOU to identify the correct sequence of IDs.

### How to Identify Consecutive Blocks:
1. Look at the "id" field: consecutive IDs like 45, 46, 47, 48 likely belong together.
2. Check the "type" field: 
   - type="text": regular text content
   - type="image": figure, diagram, or photo
   - type="equation": mathematical formula
   - type="table_row": IGNORE these blocks (do not include in questions)
3. If a text block is followed by an image, then more text, they are likely part of the same question.

## ═══════════════════════════════════════════════════════════════
## Your Tasks:
## ═══════════════════════════════════════════════════════════════

1. **Identify chapter/section titles** and output their block IDs in <title>...</title>.
2. **Identify question types**:
   - **Examples** (例题): labeled with "例", "例1", "例①", "Example 1", etc. → <type>example</type>
   - **Exercises** (练习题): labeled with "1.", "①", "习题3", "Exercise 2", etc. → <type>exercise</type>
3. **Identify math problems** and output their block IDs in <question>...</question>.
4. **For examples ONLY**: If a solution immediately follows (within ~5 blocks), output its IDs in <solution>...</solution>.
5. **ONE QUESTION PER <qa_pair>**: Never merge multiple questions into a single <qa_pair> block.

## ═══════════════════════════════════════════════════════════════
## Question Numbering Recognition
## ═══════════════════════════════════════════════════════════════

- Circled numbers ①②③④⑤⑥⑦⑧⑨⑩ are INDEPENDENT questions. Each starts a NEW <qa_pair>.
- Arabic numbers like 1. 2. 3. or 1) 2) 3) are also INDEPENDENT questions.
- ONLY (1)(2)(3) or (a)(b)(c) WITHIN a question are sub-questions that belong together.
- **PROHIBITION**: If the input chunk contains visible questions (starting with "1.", "Example 1", etc.), you are **PROHIBITED** from outputting <empty></empty>. You MUST extract them.

## ═══════════════════════════════════════════════════════════════
## Chapter/Section Titles
## ═══════════════════════════════════════════════════════════════

- Always enclose qa pairs in a <chapter>...</chapter> block.
- If the chunk contains content from multiple chapters or sections, you MUST output multiple <chapter> blocks, each with its own <title>.
- <title>TITLE_ID</title> should contain the ID of the chapter title block.
- If there's no chapter title, use <title></title> (empty).

## ═══════════════════════════════════════════════════════════════
## Output Format
## ═══════════════════════════════════════════════════════════════

If no qualifying content is found (and NO questions are visible in text):
<empty></empty>

Otherwise:
<chapter><title>TITLE_ID</title>
<qa_pair><label>LABEL</label><type>TYPE</type><question>QUESTION_IDS</question>
<solution>SOLUTION_IDS</solution></qa_pair>
</chapter>

## ═══════════════════════════════════════════════════════════════
## Example 1: Exercise Question with Image
## ═══════════════════════════════════════════════════════════════

Input blocks:
[
  {"id": 10, "type": "text", "text": "一、选择题"},
  {"id": 11, "type": "text", "text": "① 如图, 直线 l 与正五边形 ABCDE 的两边 AB, AE 分别交于点 M, N,"},
  {"id": 12, "type": "image", "img_path": "images/fig1.jpg"},
  {"id": 13, "type": "text", "text": "则 ∠1 + ∠2 的度数是多少?"},
  {"id": 14, "type": "table_row", "text": "<tr><td>...</td></tr>"}
]

✅ CORRECT Output:
<chapter><title>10</title>
<qa_pair><label>1</label><type>exercise</type><question>11,12,13</question>
<solution></solution></qa_pair>
</chapter>

❌ WRONG Output (missing image ID 12):
<chapter><title>10</title>
<qa_pair><label>1</label><type>exercise</type><question>11,13</question>
<solution></solution></qa_pair>
</chapter>

## ═══════════════════════════════════════════════════════════════
## Example 2: Example Question with Near-Distance Solution
## ═══════════════════════════════════════════════════════════════

Input blocks:
[
  {"id": 20, "type": "text", "text": "例① 计算 √16 的算术平方根."},
  {"id": 21, "type": "text", "text": "解: √16 = 4, 4 的算术平方根是 2,"},
  {"id": 22, "type": "text", "text": "所以 √16 的算术平方根是 2."}
]

✅ CORRECT Output:
<chapter><title></title>
<qa_pair><label>例1</label><type>example</type><question>20</question>
<solution>21,22</solution></qa_pair>
</chapter>

❌ WRONG Output (free text instead of IDs):
<chapter><title></title>
<qa_pair><label>例1</label><type>example</type><question>计算 √16 的算术平方根.</question>
<solution>√16 = 4, 4 的算术平方根是 2, 所以 √16 的算术平方根是 2.</solution></qa_pair>
</chapter>

## ═══════════════════════════════════════════════════════════════
## Example 3: Multiple Separate Questions
## ═══════════════════════════════════════════════════════════════

Input blocks:
[
  {"id": 30, "type": "text", "text": "二、填空题"},
  {"id": 31, "type": "text", "text": "① √9 = ___"},
  {"id": 32, "type": "text", "text": "② √25 = ___"},
  {"id": 33, "type": "text", "text": "③ √49 = ___"}
]

✅ CORRECT Output (3 separate qa_pairs):
<chapter><title>30</title>
<qa_pair><label>1</label><type>exercise</type><question>31</question>
<solution></solution></qa_pair>
<qa_pair><label>2</label><type>exercise</type><question>32</question>
<solution></solution></qa_pair>
<qa_pair><label>3</label><type>exercise</type><question>33</question>
<solution></solution></qa_pair>
</chapter>

❌ WRONG Output (merging multiple questions):
<chapter><title>30</title>
<qa_pair><label>1</label><type>exercise</type><question>31,32,33</question>
<solution></solution></qa_pair>
</chapter>

## ═══════════════════════════════════════════════════════════════
## Example 4: Complex Question with Multiple Images and Equations
## ═══════════════════════════════════════════════════════════════

Input blocks:
[
  {"id": 40, "type": "text", "text": "① 如图所示,"},
  {"id": 41, "type": "image", "img_path": "images/fig2.jpg"},
  {"id": 42, "type": "text", "text": "已知"},
  {"id": 43, "type": "equation", "latex": "a^2 + b^2 = c^2"},
  {"id": 44, "type": "text", "text": "求 c 的值."}
]

✅ CORRECT Output (includes ALL consecutive IDs):
<chapter><title></title>
<qa_pair><label>1</label><type>exercise</type><question>40,41,42,43,44</question>
<solution></solution></qa_pair>
</chapter>

❌ WRONG Output (skipping image and equation):
<chapter><title></title>
<qa_pair><label>1</label><type>exercise</type><question>40,42,44</question>
<solution></solution></qa_pair>
</chapter>

## ═══════════════════════════════════════════════════════════════
## Special Cases
## ═══════════════════════════════════════════════════════════════

- **Definition text** without a problem number is NOT a problem - do not extract it.
- **Incomplete problems** that continue to the next chunk should be omitted.
- **Preserve original labels** like "例1", "习题3", "①" in the <label> field.
- **For exercises**: Leave <solution> empty (we don't extract far-distance answers).
- **For examples**: Only extract solution if it immediately follows the question (within ~5 blocks).

## ═══════════════════════════════════════════════════════════════
## Final Reminder: CHECK YOUR OUTPUT
## ═══════════════════════════════════════════════════════════════

Before submitting your output, verify:
1. ✅ All <question> and <solution> fields contain ONLY IDs (comma-separated numbers)
2. ✅ No image blocks are skipped in the ID sequence
3. ✅ Each independent question has its own <qa_pair> block
4. ✅ <type> is correctly set to "example" or "exercise"
5. ✅ <label> preserves the original question number

Please now process the provided JSON and output your result following these rules strictly.

## Input JSON:
```json
[
  {
    "id": 2170,
    "type": "text",
    "page_idx": 61,
    "text": "e  $7x - 2x$"
  },
  {
    "id": 2171,
    "type": "text",
    "page_idx": 61,
    "text": "4y-4y"
  },
  {
    "id": 2172,
    "type": "text",
    "page_idx": 61,
    "text": "9x-10x"
  },
  {
    "id": 2173,
    "type": "text",
    "page_idx": 61,
    "text": "h  $y - 4y$"
  },
  {
    "id": 2174,
    "type": "text",
    "page_idx": 61,
    "text": "5x-x"
  },
  {
    "id": 2175,
    "type": "text",
    "page_idx": 61,
    "text": "j 9xy-2xy"
  },
  {
    "id": 2176,
    "type": "text",
    "page_idx": 61,
    "text": "k 6pq-2qp"
  },
  {
    "id": 2177,
    "type": "text",
    "page_idx": 61,
    "text": "14xyz-xyz"
  },
  {
    "id": 2178,
    "type": "text",
    "page_idx": 61,
    "text": "m 4x²-2x²"
  },
  {
    "id": 2179,
    "type": "text",
    "page_idx": 61,
    "text": "n 9y²-4y²"
  },
  {
    "id": 2180,
    "type": "text",
    "page_idx": 61,
    "text": "$y^{2} - 2y^{2}$"
  },
  {
    "id": 2181,
    "type": "text",
    "page_idx": 61,
    "text": "14ab²-2ab²"
  },
  {
    "id": 2182,
    "type": "text",
    "page_idx": 61,
    "text": "9x²y-4x²y"
  },
  {
    "id": 2183,
    "type": "text",
    "page_idx": 61,
    "text": "10xy²-8xy²"
  },
  {
    "id": 2184,
    "type": "text",
    "page_idx": 61,
    "text": "3 Simplify."
  },
  {
    "id": 2185,
    "type": "text",
    "page_idx": 61,
    "text": "a  $2x + y + 3x$"
  },
  {
    "id": 2186,
    "type": "text",
    "page_idx": 61,
    "text": "b  $4y - 2y + 4x$"
  },
  {
    "id": 2187,
    "type": "text",
    "page_idx": 61,
    "text": "6x-4x+5x"
  },
  {
    "id": 2188,
    "type": "text",
    "page_idx": 61,
    "text": "d  $10 + 4x - 6$"
  },
  {
    "id": 2189,
    "type": "text",
    "page_idx": 61,
    "text": "4xy-2y+2xy"
  },
  {
    "id": 2190,
    "type": "text",
    "page_idx": 61,
    "text": "$5x^{2} - 6x^{2} + 2x$"
  },
  {
    "id": 2191,
    "type": "text",
    "page_idx": 61,
    "text": "g  $5x + 4y - 6x$"
  },
  {
    "id": 2192,
    "type": "text",
    "page_idx": 61,
    "text": "h  $3y + 4x - x$"
  },
  {
    "id": 2193,
    "type": "text",
    "page_idx": 61,
    "text": "i  $4x + 6y + 4x$"
  },
  {
    "id": 2194,
    "type": "text",
    "page_idx": 61,
    "text": "j  $9x - 2y - x$"
  },
  {
    "id": 2195,
    "type": "text",
    "page_idx": 61,
    "text": "k  $12x^{2} - 4x + 2x^{2}$"
  },
  {
    "id": 2196,
    "type": "text",
    "page_idx": 61,
    "text": "12x²-4x²+2x²"
  },
  {
    "id": 2197,
    "type": "text",
    "page_idx": 61,
    "text": "m 5xy-2x+7xy"
  },
  {
    "id": 2198,
    "type": "text",
    "page_idx": 61,
    "text": "${xy} - {2xz} + {7xy}$"
  },
  {
    "id": 2199,
    "type": "text",
    "page_idx": 61,
    "text": "3x²-2y²-4x²"
  },
  {
    "id": 2200,
    "type": "text",
    "page_idx": 61,
    "text": "5x²y+3x²y-2xy"
  },
  {
    "id": 2201,
    "type": "text",
    "page_idx": 61,
    "text": "4xy-x+2yx"
  },
  {
    "id": 2202,
    "type": "text",
    "page_idx": 61,
    "text": "5xy-2+xy"
  },
  {
    "id": 2203,
    "type": "text",
    "page_idx": 61,
    "text": "4 Simplify as far as possible."
  },
  {
    "id": 2204,
    "type": "text",
    "page_idx": 61,
    "text": "a  $8y - 4 - 6y - 4$"
  },
  {
    "id": 2205,
    "type": "text",
    "page_idx": 61,
    "text": "b  $x^{2} - 4x + 3x^{2} - x$"
  },
  {
    "id": 2206,
    "type": "text",
    "page_idx": 61,
    "text": "$5x + y + 2x + 3y$"
  },
  {
    "id": 2207,
    "type": "text",
    "page_idx": 61,
    "text": "d y²+2y+3y-7"
  },
  {
    "id": 2208,
    "type": "text",
    "page_idx": 61,
    "text": "${x}^{2} - {4x} - x + 3$"
  },
  {
    "id": 2209,
    "type": "text",
    "page_idx": 61,
    "text": "${x}^{2} + {3x} - 7 + {2x}$"
  },
  {
    "id": 2210,
    "type": "text",
    "page_idx": 61,
    "text": "4xyz-3xy+2xz-xyz"
  },
  {
    "id": 2211,
    "type": "text",
    "page_idx": 61,
    "text": "h  $5xy - 4 + 3yx - 6$"
  },
  {
    "id": 2212,
    "type": "text",
    "page_idx": 61,
    "text": "i  $8x - 4 - 2x - 3x^{2}$"
  },
  {
    "id": 2213,
    "type": "text",
    "page_idx": 61,
    "text": "5 Write an expression for the perimeter  $(P)$  of each of the following shapes and then simplify it to give  $P$  in the simplest possible terms."
  },
  {
    "id": 2214,
    "type": "text",
    "page_idx": 61,
    "text": "MATHEMATICAL CONNECTIONS"
  },
  {
    "id": 2215,
    "type": "text",
    "page_idx": 61,
    "text": "You will need to be very comfortable with simplifying algebraic expressions. It is a skill you will need throughout the course for solving equations and inequalities, and for simplifying expansions."
  },
  {
    "id": 2216,
    "type": "image",
    "page_idx": 61,
    "img_path": "images/26495fc5f59948d5710bf5c61f770d5bc29a39385574d9531e09f4353fcf657c.jpg"
  },
  {
    "id": 2217,
    "type": "image",
    "page_idx": 61,
    "img_path": "images/158446fb3f4f687dfb26463fb489140ba0e969cf72834a823ab5ceab0d5319d7.jpg"
  },
  {
    "id": 2218,
    "type": "image",
    "page_idx": 61,
    "img_path": "images/83d4491d7080ea8053ff8df51fdc2ed11deedcf57ddd63681fedce9ef203f4ba.jpg"
  },
  {
    "id": 2219,
    "type": "image",
    "page_idx": 61,
    "img_path": "images/411826baa017988edce3088759f1d4772897e19fb29626fd731ec2791190e456.jpg"
  },
  {
    "id": 2220,
    "type": "image",
    "page_idx": 61,
    "img_path": "images/3f34b820f2d0b67e3b6f623057402cc9fe987f4fe2f2743c609ee29e69ab5653.jpg"
  },
  {
    "id": 2221,
    "type": "image",
    "page_idx": 61,
    "img_path": "images/7c8209d6573b6134b564897a38c2f00546ca059b49d278d7d299822a8c853b14.jpg"
  },
  {
    "id": 2222,
    "type": "image",
    "page_idx": 61,
    "img_path": "images/1c1cf9bcc4ce010e4056212c8ec549e57492119b3d1c9cd45930030c98740419.jpg"
  },
  {
    "id": 2223,
    "type": "image",
    "page_idx": 61,
    "img_path": "images/fd8f87203513fe875aa410c9e398a311eb95cb3cc74a09a2b0ce0053205f44a1.jpg"
  },
  {
    "id": 2224,
    "type": "text",
    "page_idx": 62,
    "text": "INVESTIGATION"
  },
  {
    "id": 2225,
    "type": "text",
    "page_idx": 62,
    "text": "Magic squares"
  },
  {
    "id": 2226,
    "type": "text",
    "page_idx": 62,
    "text": "In a magic square, the sum of each row, column and diagonal is the same."
  },
  {
    "id": 2227,
    "type": "text",
    "page_idx": 62,
    "text": "1 Is this a magic square?"
  },
  {
    "id": 2228,
    "type": "text",
    "text": "[Table Row] <tr><td>5x+2y</td><td>7y</td><td>7x+8y</td></tr>",
    "page_idx": 62
  },
  {
    "id": 2229,
    "type": "text",
    "text": "[Table Row] <tr><td>6x+9y</td><td>4x+5y</td><td>2x+y</td></tr>",
    "page_idx": 62
  },
  {
    "id": 2230,
    "type": "text",
    "text": "[Table Row] <tr><td>x+4y</td><td>8x+3y</td><td>3x+8y</td></tr>",
    "page_idx": 62
  },
  {
    "id": 2231,
    "type": "text",
    "page_idx": 62,
    "text": "2 Copy and complete this magic square."
  },
  {
    "id": 2232,
    "type": "text",
    "text": "[Table Row] <tr><td></td><td></td><td></td></tr>",
    "page_idx": 62
  },
  {
    "id": 2233,
    "type": "text",
    "text": "[Table Row] <tr><td></td><td>a</td><td></td></tr>",
    "page_idx": 62
  },
  {
    "id": 2234,
    "type": "text",
    "text": "[Table Row] <tr><td>a+b</td><td>a-b-c</td><td>a+c</td></tr>",
    "page_idx": 62
  },
  {
    "id": 2235,
    "type": "text",
    "page_idx": 62,
    "text": "3 There are only four possible magic squares that use only the three terms:  $x - 1$ ,  $x$  and  $x + 1$"
  },
  {
    "id": 2236,
    "type": "text",
    "text": "a What are they?",
    "page_idx": 62
  },
  {
    "id": 2237,
    "type": "text",
    "text": "b Do you think the same applies to the terms  $2x - 2, 2x$  and  $2x + 2$ ? Justify your answer.",
    "page_idx": 62
  },
  {
    "id": 2238,
    "type": "text",
    "page_idx": 62,
    "text": "REFLECTION"
  },
  {
    "id": 2239,
    "type": "text",
    "page_idx": 62,
    "text": "Think about how you worked on question 2 in the investigation."
  },
  {
    "id": 2240,
    "type": "text",
    "text": "What steps did you follow to solve the problem? Could you work in a different order? If so, how?",
    "page_idx": 62
  },
  {
    "id": 2241,
    "type": "text",
    "text": "Could you solve the magic square using fewer steps? How?",
    "page_idx": 62
  },
  {
    "id": 2242,
    "type": "text",
    "text": "Will the strategies you used always work? Why?",
    "page_idx": 62
  },
  {
    "id": 2243,
    "type": "text",
    "page_idx": 63,
    "text": "Multiplying and dividing expressions"
  },
  {
    "id": 2244,
    "type": "text",
    "page_idx": 63,
    "text": "In Section 2.1 you learned how to write expressions in simpler terms when multiplying and dividing them. Make sure you understand and remember these important rules:"
  },
  {
    "id": 2245,
    "type": "text",
    "text": "3x means  $3\\times x$  and 3xy means  $3\\times x\\times y$",
    "page_idx": 63
  },
  {
    "id": 2246,
    "type": "text",
    "text": "-  $x y$  means  $x \\times y$",
    "page_idx": 63
  },
  {
    "id": 2247,
    "type": "text",
    "text": "$x^{2}$  means  $x\\times x$  and  $x^{2}y$  means  $x\\times x\\times y$  (only the  $x$  is squared)",
    "page_idx": 63
  },
  {
    "id": 2248,
    "type": "text",
    "text": "2a 4 means 2a-4",
    "page_idx": 63
  },
  {
    "id": 2249,
    "type": "text",
    "page_idx": 63,
    "text": "WORKED EXAMPLE 7"
  },
  {
    "id": 2250,
    "type": "text",
    "page_idx": 63,
    "text": "Simplify."
  },
  {
    "id": 2251,
    "type": "text",
    "page_idx": 63,
    "text": "a  $4\\times 3x$"
  },
  {
    "id": 2252,
    "type": "text",
    "page_idx": 63,
    "text": "b  $4x\\times 3y$"
  },
  {
    "id": 2253,
    "type": "text",
    "page_idx": 63,
    "text": "4ab×2bc"
  },
  {
    "id": 2254,
    "type": "text",
    "page_idx": 63,
    "text": "d  $7x\\times 4yz\\times 3$"
  },
  {
    "id": 2255,
    "type": "text",
    "page_idx": 63,
    "text": "Answers"
  },
  {
    "id": 2256,
    "type": "text",
    "page_idx": 63,
    "text": "a  $4\\times 3x = 4\\times 3\\times x$"
  },
  {
    "id": 2257,
    "type": "equation",
    "page_idx": 63,
    "text": "$$\n\\begin{array}{l} = 1 2 \\times x \\\\ = 1 2 x \\\\ \\end{array}\n$$"
  },
  {
    "id": 2258,
    "type": "text",
    "page_idx": 63,
    "text": "Insert the missing  $\\times$  signs."
  },
  {
    "id": 2259,
    "type": "text",
    "page_idx": 63,
    "text": "Multiply the numbers first."
  },
  {
    "id": 2260,
    "type": "text",
    "page_idx": 63,
    "text": "Write in simplest form."
  },
  {
    "id": 2261,
    "type": "text",
    "page_idx": 63,
    "text": "b  $4x\\times 3y = 4\\times x\\times 3\\times y$"
  },
  {
    "id": 2262,
    "type": "equation",
    "page_idx": 63,
    "text": "$$\n\\begin{array}{l} = 1 2 \\times x \\times y \\\\ = 1 2 x y \\\\ \\end{array}\n$$"
  },
  {
    "id": 2263,
    "type": "text",
    "page_idx": 63,
    "text": "Insert the missing  $\\times$  signs."
  },
  {
    "id": 2264,
    "type": "text",
    "page_idx": 63,
    "text": "Multiply the numbers."
  },
  {
    "id": 2265,
    "type": "text",
    "page_idx": 63,
    "text": "Write in simplest form."
  },
  {
    "id": 2266,
    "type": "text",
    "page_idx": 63,
    "text": "4ab×2bc = 4×a×b×2×b×c"
  },
  {
    "id": 2267,
    "type": "text",
    "page_idx": 63,
    "text": "Insert the missing  $\\times$  signs."
  },
  {
    "id": 2268,
    "type": "equation",
    "page_idx": 63,
    "text": "$$\n= 8 \\times a \\times b \\times b \\times c\n$$"
  },
  {
    "id": 2269,
    "type": "text",
    "page_idx": 63,
    "text": "Multiply the numbers, then"
  }
]
```