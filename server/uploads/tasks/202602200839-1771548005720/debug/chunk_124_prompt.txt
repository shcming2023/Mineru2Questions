You are an expert in extracting questions from educational materials. You are given a JSON array containing content blocks from a textbook page. Each block has an "id" field.

## ═══════════════════════════════════════════════════════════════
## CRITICAL RULE 1: ID-ONLY OUTPUT
## ═══════════════════════════════════════════════════════════════

**You MUST output ONLY block IDs (comma-separated numbers), NOT the actual text content.**

✅ CORRECT: <question>10,11,12</question>
❌ WRONG: <question>What is the square root of 16?</question>

The system will automatically retrieve the text using the IDs you provide.

## ═══════════════════════════════════════════════════════════════
## CRITICAL RULE 2: INCLUDE ALL CONSECUTIVE BLOCKS (ESPECIALLY IMAGES)
## ═══════════════════════════════════════════════════════════════

**When a question spans multiple consecutive blocks, you MUST include ALL IDs in sequence.**
**DO NOT skip any block, especially image blocks (type='image') and equation blocks (type='equation').**

✅ CORRECT: <question>45,46,47,48</question>  <!-- includes text + image + text -->
❌ WRONG: <question>45,47,48</question>       <!-- FATAL ERROR: MISSING image block 46 -->

### Why This Matters:
- Many questions contain embedded images or diagrams that are essential to understanding the problem.
- Skipping an image block will result in an incomplete, unusable question.
- The system relies on YOU to identify the correct sequence of IDs.

### How to Identify Consecutive Blocks:
1. Look at the "id" field: consecutive IDs like 45, 46, 47, 48 likely belong together.
2. Check the "type" field: 
   - type="text": regular text content
   - type="image": figure, diagram, or photo
   - type="equation": mathematical formula
   - type="table_row": IGNORE these blocks (do not include in questions)
3. If a text block is followed by an image, then more text, they are likely part of the same question.

## ═══════════════════════════════════════════════════════════════
## Your Tasks:
## ═══════════════════════════════════════════════════════════════

1. **Identify chapter/section titles** and output their block IDs in <title>...</title>.
2. **Identify question types**:
   - **Examples** (例题): labeled with "例", "例1", "例①", "Example 1", etc. → <type>example</type>
   - **Exercises** (练习题): labeled with "1.", "①", "习题3", "Exercise 2", etc. → <type>exercise</type>
3. **Identify math problems** and output their block IDs in <question>...</question>.
4. **For examples ONLY**: If a solution immediately follows (within ~5 blocks), output its IDs in <solution>...</solution>.
5. **ONE QUESTION PER <qa_pair>**: Never merge multiple questions into a single <qa_pair> block.

## ═══════════════════════════════════════════════════════════════
## Question Numbering Recognition
## ═══════════════════════════════════════════════════════════════

- Circled numbers ①②③④⑤⑥⑦⑧⑨⑩ are INDEPENDENT questions. Each starts a NEW <qa_pair>.
- Arabic numbers like 1. 2. 3. or 1) 2) 3) are also INDEPENDENT questions.
- ONLY (1)(2)(3) or (a)(b)(c) WITHIN a question are sub-questions that belong together.
- **PROHIBITION**: If the input chunk contains visible questions (starting with "1.", "Example 1", etc.), you are **PROHIBITED** from outputting <empty></empty>. You MUST extract them.

## ═══════════════════════════════════════════════════════════════
## Chapter/Section Titles
## ═══════════════════════════════════════════════════════════════

- Always enclose qa pairs in a <chapter>...</chapter> block.
- If the chunk contains content from multiple chapters or sections, you MUST output multiple <chapter> blocks, each with its own <title>.
- <title>TITLE_ID</title> should contain the ID of the chapter title block.
- If there's no chapter title, use <title></title> (empty).

## ═══════════════════════════════════════════════════════════════
## Output Format
## ═══════════════════════════════════════════════════════════════

If no qualifying content is found (and NO questions are visible in text):
<empty></empty>

Otherwise:
<chapter><title>TITLE_ID</title>
<qa_pair><label>LABEL</label><type>TYPE</type><question>QUESTION_IDS</question>
<solution>SOLUTION_IDS</solution></qa_pair>
</chapter>

## ═══════════════════════════════════════════════════════════════
## Example 1: Exercise Question with Image
## ═══════════════════════════════════════════════════════════════

Input blocks:
[
  {"id": 10, "type": "text", "text": "一、选择题"},
  {"id": 11, "type": "text", "text": "① 如图, 直线 l 与正五边形 ABCDE 的两边 AB, AE 分别交于点 M, N,"},
  {"id": 12, "type": "image", "img_path": "images/fig1.jpg"},
  {"id": 13, "type": "text", "text": "则 ∠1 + ∠2 的度数是多少?"},
  {"id": 14, "type": "table_row", "text": "<tr><td>...</td></tr>"}
]

✅ CORRECT Output:
<chapter><title>10</title>
<qa_pair><label>1</label><type>exercise</type><question>11,12,13</question>
<solution></solution></qa_pair>
</chapter>

❌ WRONG Output (missing image ID 12):
<chapter><title>10</title>
<qa_pair><label>1</label><type>exercise</type><question>11,13</question>
<solution></solution></qa_pair>
</chapter>

## ═══════════════════════════════════════════════════════════════
## Example 2: Example Question with Near-Distance Solution
## ═══════════════════════════════════════════════════════════════

Input blocks:
[
  {"id": 20, "type": "text", "text": "例① 计算 √16 的算术平方根."},
  {"id": 21, "type": "text", "text": "解: √16 = 4, 4 的算术平方根是 2,"},
  {"id": 22, "type": "text", "text": "所以 √16 的算术平方根是 2."}
]

✅ CORRECT Output:
<chapter><title></title>
<qa_pair><label>例1</label><type>example</type><question>20</question>
<solution>21,22</solution></qa_pair>
</chapter>

❌ WRONG Output (free text instead of IDs):
<chapter><title></title>
<qa_pair><label>例1</label><type>example</type><question>计算 √16 的算术平方根.</question>
<solution>√16 = 4, 4 的算术平方根是 2, 所以 √16 的算术平方根是 2.</solution></qa_pair>
</chapter>

## ═══════════════════════════════════════════════════════════════
## Example 3: Multiple Separate Questions
## ═══════════════════════════════════════════════════════════════

Input blocks:
[
  {"id": 30, "type": "text", "text": "二、填空题"},
  {"id": 31, "type": "text", "text": "① √9 = ___"},
  {"id": 32, "type": "text", "text": "② √25 = ___"},
  {"id": 33, "type": "text", "text": "③ √49 = ___"}
]

✅ CORRECT Output (3 separate qa_pairs):
<chapter><title>30</title>
<qa_pair><label>1</label><type>exercise</type><question>31</question>
<solution></solution></qa_pair>
<qa_pair><label>2</label><type>exercise</type><question>32</question>
<solution></solution></qa_pair>
<qa_pair><label>3</label><type>exercise</type><question>33</question>
<solution></solution></qa_pair>
</chapter>

❌ WRONG Output (merging multiple questions):
<chapter><title>30</title>
<qa_pair><label>1</label><type>exercise</type><question>31,32,33</question>
<solution></solution></qa_pair>
</chapter>

## ═══════════════════════════════════════════════════════════════
## Example 4: Complex Question with Multiple Images and Equations
## ═══════════════════════════════════════════════════════════════

Input blocks:
[
  {"id": 40, "type": "text", "text": "① 如图所示,"},
  {"id": 41, "type": "image", "img_path": "images/fig2.jpg"},
  {"id": 42, "type": "text", "text": "已知"},
  {"id": 43, "type": "equation", "latex": "a^2 + b^2 = c^2"},
  {"id": 44, "type": "text", "text": "求 c 的值."}
]

✅ CORRECT Output (includes ALL consecutive IDs):
<chapter><title></title>
<qa_pair><label>1</label><type>exercise</type><question>40,41,42,43,44</question>
<solution></solution></qa_pair>
</chapter>

❌ WRONG Output (skipping image and equation):
<chapter><title></title>
<qa_pair><label>1</label><type>exercise</type><question>40,42,44</question>
<solution></solution></qa_pair>
</chapter>

## ═══════════════════════════════════════════════════════════════
## Special Cases
## ═══════════════════════════════════════════════════════════════

- **Definition text** without a problem number is NOT a problem - do not extract it.
- **Incomplete problems** that continue to the next chunk should be omitted.
- **Preserve original labels** like "例1", "习题3", "①" in the <label> field.
- **For exercises**: Leave <solution> empty (we don't extract far-distance answers).
- **For examples**: Only extract solution if it immediately follows the question (within ~5 blocks).

## ═══════════════════════════════════════════════════════════════
## Final Reminder: CHECK YOUR OUTPUT
## ═══════════════════════════════════════════════════════════════

Before submitting your output, verify:
1. ✅ All <question> and <solution> fields contain ONLY IDs (comma-separated numbers)
2. ✅ No image blocks are skipped in the ID sequence
3. ✅ Each independent question has its own <qa_pair> block
4. ✅ <type> is correctly set to "example" or "exercise"
5. ✅ <label> preserves the original question number

Please now process the provided JSON and output your result following these rules strictly.

## Input JSON:
```json
[
  {
    "id": 8680,
    "type": "text",
    "text": "a two sixes are thrown",
    "page_idx": 253
  },
  {
    "id": 8681,
    "type": "text",
    "text": "b two even numbers are thrown",
    "page_idx": 253
  },
  {
    "id": 8682,
    "type": "text",
    "text": "c the same number is thrown twice",
    "page_idx": 253
  },
  {
    "id": 8683,
    "type": "text",
    "text": "d the two numbers thrown are different.",
    "page_idx": 253
  },
  {
    "id": 8684,
    "type": "image",
    "page_idx": 253,
    "img_path": "images/030b56323e71960458a5555b55e6b9d2e90ab427dd3ba9b77176accba134eca1.jpg"
  },
  {
    "id": 8685,
    "type": "text",
    "page_idx": 253,
    "text": "2 A bag contains 12 coloured balls. Five of the balls are red and the rest are blue. A ball is drawn at random from the bag. It is then replaced and a second ball is drawn. The colour of each ball is recorded."
  },
  {
    "id": 8686,
    "type": "text",
    "text": "a List the possible outcomes of the experiment.",
    "page_idx": 253
  },
  {
    "id": 8687,
    "type": "text",
    "text": "b Calculate the following probabilities. Give your answers as percentages to 3 significant figures.",
    "page_idx": 253
  },
  {
    "id": 8688,
    "type": "text",
    "text": "i The first ball is blue.",
    "page_idx": 253
  },
  {
    "id": 8689,
    "type": "text",
    "text": "ii The second ball is red.",
    "page_idx": 253
  },
  {
    "id": 8690,
    "type": "text",
    "text": "iii The first ball is blue and the second ball is red.",
    "page_idx": 253
  },
  {
    "id": 8691,
    "type": "text",
    "text": "iv The two balls are the same colour.",
    "page_idx": 253
  },
  {
    "id": 8692,
    "type": "text",
    "text": "The two balls are a different colour.",
    "page_idx": 253
  },
  {
    "id": 8693,
    "type": "text",
    "text": "vi Neither ball is red.",
    "page_idx": 253
  },
  {
    "id": 8694,
    "type": "text",
    "text": "vii At least one ball is red.",
    "page_idx": 253
  },
  {
    "id": 8695,
    "type": "text",
    "page_idx": 253,
    "text": "3 Devin and Tej are playing cards. Devin draws a card, replaces it and then shuffles the pack. Tej then draws a card. Find the probability that:"
  },
  {
    "id": 8696,
    "type": "text",
    "text": "a both draw an ace",
    "page_idx": 253
  },
  {
    "id": 8697,
    "type": "text",
    "text": "b both draw the king of Hearts",
    "page_idx": 253
  },
  {
    "id": 8698,
    "type": "text",
    "text": "c Devin draws a spade and Tej draws a queen.",
    "page_idx": 253
  },
  {
    "id": 8699,
    "type": "text",
    "text": "d exactly one of the cards drawn is a heart.",
    "page_idx": 253
  },
  {
    "id": 8700,
    "type": "text",
    "text": "both cards are red or both cards are black",
    "page_idx": 253
  },
  {
    "id": 8701,
    "type": "text",
    "text": "f the cards are different colours.",
    "page_idx": 253
  },
  {
    "id": 8702,
    "type": "text",
    "page_idx": 253,
    "text": "4 Kirti and Hussein are both preparing to take a driving test. They each learned to drive separately, so the results of the tests are independent. The probability that Kirti passes is 0.6 and the probability that Hussein passes is 0.4. Calculate the probability that:"
  },
  {
    "id": 8703,
    "type": "text",
    "text": "a both pass the test",
    "page_idx": 253
  },
  {
    "id": 8704,
    "type": "text",
    "text": "neither passes the test.",
    "page_idx": 253
  },
  {
    "id": 8705,
    "type": "text",
    "text": "Kirti passes the test, but Hussein does not pass.",
    "page_idx": 253
  },
  {
    "id": 8706,
    "type": "text",
    "text": "at least one of Kirti and Hussein passes",
    "page_idx": 253
  },
  {
    "id": 8707,
    "type": "text",
    "text": "exacone of Kirti and Hussein passes.",
    "page_idx": 253
  },
  {
    "id": 8708,
    "type": "text",
    "page_idx": 253,
    "text": "TIP"
  },
  {
    "id": 8709,
    "type": "text",
    "page_idx": 253,
    "text": "Usually 'AND' in probability means you will need to multiply probabilities. 'OR' usually means you will need to add them."
  },
  {
    "id": 8710,
    "type": "text",
    "page_idx": 253,
    "text": "MATHEMATICAL CONNECTIONS"
  },
  {
    "id": 8711,
    "type": "text",
    "page_idx": 253,
    "text": "You will learn how to calculate probabilities for situations where objects are not replaced in Chapter 24."
  },
  {
    "id": 8712,
    "type": "text",
    "page_idx": 254,
    "text": "REFLECTION"
  },
  {
    "id": 8713,
    "type": "text",
    "text": "What did you find most difficult to fully understand in this chapter?",
    "page_idx": 254
  },
  {
    "id": 8714,
    "type": "text",
    "text": "Why was this difficult for you to understand?",
    "page_idx": 254
  },
  {
    "id": 8715,
    "type": "text",
    "page_idx": 254,
    "text": "SUMMARY"
  },
  {
    "id": 8716,
    "type": "text",
    "page_idx": 254,
    "text": "Do you know ...?"
  },
  {
    "id": 8717,
    "type": "text",
    "page_idx": 254,
    "text": "Probability measures how likely something is to happen."
  },
  {
    "id": 8718,
    "type": "text",
    "page_idx": 254,
    "text": "An outcome is the single result of an experiment."
  },
  {
    "id": 8719,
    "type": "text",
    "page_idx": 254,
    "text": "An event is a collection of favourable outcomes."
  },
  {
    "id": 8720,
    "type": "text",
    "page_idx": 254,
    "text": "Experimental probability can be calculated by dividing the number of favourable outcomes by the number of trials."
  },
  {
    "id": 8721,
    "type": "text",
    "page_idx": 254,
    "text": "Favourable outcomes are any outcomes that mean your event has happened."
  },
  {
    "id": 8722,
    "type": "text",
    "page_idx": 254,
    "text": "If outcomes are equally likely then theoretical probability can be calculated by dividing the number of favourable outcomes by the number of possible outcomes."
  },
  {
    "id": 8723,
    "type": "text",
    "page_idx": 254,
    "text": "The probability of an event happening and the probability of that event not happening will always sum up to one. If  $A$  is an event, then  $A'$  is the event that  $A$  does not happen and  $P(A) = 1 - P(A)$ ."
  },
  {
    "id": 8724,
    "type": "text",
    "page_idx": 254,
    "text": "Independent events do not affect one another."
  },
  {
    "id": 8725,
    "type": "text",
    "page_idx": 254,
    "text": "Mutually exclusive events cannot happen together."
  },
  {
    "id": 8726,
    "type": "text",
    "page_idx": 254,
    "text": "Are you able to ...?"
  },
  {
    "id": 8727,
    "type": "text",
    "page_idx": 254,
    "text": "find an experimental probability given the results of several trials"
  },
  {
    "id": 8728,
    "type": "text",
    "page_idx": 254,
    "text": "find a theoretical probability"
  },
  {
    "id": 8729,
    "type": "text",
    "page_idx": 254,
    "text": "find the probability that an event will not happen if you know the probability that it will happen."
  },
  {
    "id": 8730,
    "type": "text",
    "page_idx": 254,
    "text": "draw a sample space diagram"
  },
  {
    "id": 8731,
    "type": "text",
    "page_idx": 254,
    "text": "recognise independent and mutually exclusive events"
  },
  {
    "id": 8732,
    "type": "text",
    "page_idx": 254,
    "text": "do calculations involving combined probabilities."
  },
  {
    "id": 8733,
    "type": "text",
    "page_idx": 254,
    "text": "Practice questions"
  },
  {
    "id": 8734,
    "type": "text",
    "page_idx": 254,
    "text": "1 A bowl of fruit contains three apples, four bananas, two pears and one orange."
  },
  {
    "id": 8735,
    "type": "text",
    "page_idx": 254,
    "text": "A child chooses one piece of fruit at random. Find the probability that"
  },
  {
    "id": 8736,
    "type": "text",
    "page_idx": 254,
    "text": "they choose:"
  },
  {
    "id": 8737,
    "type": "text",
    "page_idx": 254,
    "text": "a a banana"
  },
  {
    "id": 8738,
    "type": "text",
    "page_idx": 254,
    "text": "[2]"
  },
  {
    "id": 8739,
    "type": "text",
    "page_idx": 254,
    "text": "b a pear or a banana"
  },
  {
    "id": 8740,
    "type": "text",
    "page_idx": 254,
    "text": "[2]"
  },
  {
    "id": 8741,
    "type": "text",
    "page_idx": 254,
    "text": "c a mango."
  },
  {
    "id": 8742,
    "type": "text",
    "page_idx": 254,
    "text": "[1]"
  },
  {
    "id": 8743,
    "type": "text",
    "page_idx": 255,
    "text": "2 A shape is chosen at random from these quadrilaterals: square, rectangle, rhombus, parallelogram, trapezium and kite. Each shape is equally likely to be chosen."
  },
  {
    "id": 8744,
    "type": "text",
    "page_idx": 255,
    "text": "Find the probability that:"
  },
  {
    "id": 8745,
    "type": "text",
    "text": "a the chosen shape has four sides of equal length [1]",
    "page_idx": 255
  },
  {
    "id": 8746,
    "type": "text",
    "text": "b the chosen shape has three sides [1]",
    "page_idx": 255
  },
  {
    "id": 8747,
    "type": "text",
    "text": "c the chosen shape has at least one pair of parallel sides [2]",
    "page_idx": 255
  },
  {
    "id": 8748,
    "type": "text",
    "text": "d the angles in the chosen shape are all equal. [2]",
    "page_idx": 255
  },
  {
    "id": 8749,
    "type": "image",
    "page_idx": 255,
    "img_path": "images/e33ddd2cc2eae2a709ae52014c4d6b4da12b8b99566f4908184cde786deca9bc.jpg"
  },
  {
    "id": 8750,
    "type": "text",
    "page_idx": 255,
    "text": "3 A four-sided dice has faces numbered 1, 2, 3 and 4. The dice is thrown on the table. The probabilities of each of the four faces landing flat on the table are as shown."
  },
  {
    "id": 8751,
    "type": "text",
    "text": "[Table Row] <tr><td>Face</td><td>1</td><td>2</td><td>3</td><td>4</td></tr>",
    "page_idx": 255
  },
  {
    "id": 8752,
    "type": "text",
    "text": "[Table Row] <tr><td>Probability</td><td>2/9</td><td>1/3</td><td>5/18</td><td>1/6</td></tr>",
    "page_idx": 255
  },
  {
    "id": 8753,
    "type": "text",
    "text": "[Table Row] <tr><td></td><td></td><td></td><td></td><td></td></tr>",
    "page_idx": 255
  },
  {
    "id": 8754,
    "type": "text",
    "text": "a Copy the table and fill in the four empty boxes with the probabilities changed to fractions with a common denominator.",
    "page_idx": 255
  },
  {
    "id": 8755,
    "type": "text",
    "text": "b Which face is most likely to finish flat on the table? [2]",
    "page_idx": 255
  },
  {
    "id": 8756,
    "type": "text",
    "text": "c What is the probability that face 3 does not finish flat on the table? [2]",
    "page_idx": 255
  },
  {
    "id": 8757,
    "type": "image",
    "page_idx": 255,
    "img_path": "images/6467942d86934a97c161829009388d8035fb817dc5da276c76f157c391ca7669.jpg"
  },
  {
    "id": 8758,
    "type": "text",
    "page_idx": 255,
    "text": "4 Josh and Soumik each take a coin at random out of their pockets and add them together to get an amount. Josh has two $1 coins, a 50c coin, a $5 coin and three 20c coins in his pocket. Soumik has three $5 coins, a $2 coin and three 50c pieces."
  },
  {
    "id": 8759,
    "type": "text",
    "text": "a Draw a probability space diagram to show all the possible outcomes for the sum of the two coins. [4]",
    "page_idx": 255
  },
  {
    "id": 8760,
    "type": "text",
    "text": "b Find the probability that the coins will add up to $6. [2]",
    "page_idx": 255
  },
  {
    "id": 8761,
    "type": "text",
    "text": "c Find the probability that the coins add up to less than $2. [2]",
    "page_idx": 255
  },
  {
    "id": 8762,
    "type": "text",
    "text": "d Find the probability that the coins will add up to $5 or more. [3]",
    "page_idx": 255
  },
  {
    "id": 8763,
    "type": "image",
    "page_idx": 255,
    "img_path": "images/e4c93b987e3eb28d794494cab1a0dcc92336761c5bb5f492f83ffd357f41b563.jpg"
  },
  {
    "id": 8764,
    "type": "text",
    "page_idx": 255,
    "text": "5 A six-sided dice is biased so that the probability of rolling a 5 is  $\\frac{1}{6}$ , the probability of rolling a 6 is  $\\frac{1}{3}$  and the probabilities of rolling a 1, 2, 3 or 4 are all equal."
  },
  {
    "id": 8765,
    "type": "text",
    "page_idx": 255,
    "text": "The dice is rolled twice and the result recorded each time."
  },
  {
    "id": 8766,
    "type": "text",
    "text": "a Calculate the probability of rolling a 3 on the first roll. [2]",
    "page_idx": 255
  },
  {
    "id": 8767,
    "type": "text",
    "text": "b Calculate the probability that the total of both rolls is 12. [3]",
    "page_idx": 255
  },
  {
    "id": 8768,
    "type": "text",
    "text": "c Calculate the probability that the product of both rolls is 12. [3]",
    "page_idx": 255
  },
  {
    "id": 8769,
    "type": "image",
    "page_idx": 255,
    "img_path": "images/7ca2f3a09dd003ff13a7d3853134aeea65a9b72dea2eee0e1a9c341038ca8c11.jpg"
  },
  {
    "id": 8770,
    "type": "text",
    "page_idx": 255,
    "text": "6 Two fair spinners, one in the shape of a square with sides numbered 1, 2, 3, 4, and one in the shape of a regular pentagon with sides numbered 1, 2, 3, 4, 5 are spun at the same time."
  },
  {
    "id": 8771,
    "type": "text",
    "page_idx": 255,
    "text": "a Draw a sample space diagram to show all possible outcomes. Use a comma to separate the numbers on each spinner. For example, record the outcome 'a 3 on the square spinner and a 4 on the pentagon spinner' as 3, 4. [3]"
  },
  {
    "id": 8772,
    "type": "text",
    "page_idx": 256,
    "text": "Event  $A$  is 'the total of the scores is 5'."
  },
  {
    "id": 8773,
    "type": "text",
    "page_idx": 256,
    "text": "Event  $B$  is 'the scores have a difference of 1'."
  },
  {
    "id": 8774,
    "type": "text",
    "page_idx": 256,
    "text": "Find the probability of the events:"
  },
  {
    "id": 8775,
    "type": "text",
    "text": "i A [2]",
    "page_idx": 256
  },
  {
    "id": 8776,
    "type": "text",
    "text": "ii B [2]",
    "page_idx": 256
  },
  {
    "id": 8777,
    "type": "text",
    "text": "iii  $A$  and  $B$  [3]",
    "page_idx": 256
  },
  {
    "id": 8778,
    "type": "text",
    "text": "iv A or B or both. [3]",
    "page_idx": 256
  },
  {
    "id": 8779,
    "type": "text",
    "page_idx": 256,
    "text": "c i Use your answer to part (b) to show that the result,  $P(A$  or  $B) = P(A) + P(B)$  , is.not true for these events. [3]"
  }
]
```